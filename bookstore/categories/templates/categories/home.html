{% extends 'layouts/base.html' %} {% load static %} {% block title %} Books Home
{% endblock %} {% block content %}
<h1>All Books</h1>
<a class="btn btn-dark" href="{% url 'books.create' %}"> Add new book</a>
{% comment %} <a class="btn btn-dark" href="{% url 'book.create.forms' %}"> Add new book via forms</a> {% endcomment %}
<a href="{% url 'book.createmodel' %}" class="btn btn-primary">Create using Model Form </a>


<table class="table">
  <tr>
    <td>ID</td>
    <td>Title</td>
    <td>Author</td>
    <td>Price</td>
    <td>number of pages</td>
    <td>Image</td>
    <td>Controls</td>
  </tr>
  {% for book in books %}

  <tr>
    <td>{{book.id }}</td>
    <td>{{book.title}}</td>
    <td>{{book.author}}</td>
    <td>{{book.price}}</td>
    <td>{{book.no_of_page}}</td>

    <td><img withd="200" height="200" src="{{book.image_url}}" /></td>
    {% comment %}
    <td>
      <img
        width="200"
        height="200 "
        src="{% static 'books/images/'|add:book.image %}"
      />
    </td>
    {% endcomment %}
    <td>
      <a class="btn btn-success" href="{{book.show_url}}"> Show</a>
      <a class="btn btn-info" href="{{book.update_url}}">Update</a>
      {% comment %} <a class="btn btn-danger" href="{{book.delete_url}}"> Delete</a> {% endcomment %}

      <!-- Button trigger modal -->
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteModal{{ book.id }}">
    Delete
  </button>

  <!-- Modal -->
  <div class="modal fade" id="deleteModal{{ book.id }}" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="deleteModalLabel{{ book.id }}" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="deleteModalLabel{{ book.id }}">Delete Book</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          Do you want to delete this book?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <a class="btn btn-danger" href="{{ book.delete_url }}">Delete</a>
        </div>
      </div>
    </div>
  </div>
</td>
</tr>

  {% endfor %}
</table>

<!--</script>-->
{% endblock %}
